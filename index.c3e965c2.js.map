{"mappings":"gfAAA,IASkBA,EATlBC,EAAAC,EAAA,S,uCAKMC,EAAO,CACXC,KAAMC,SAASC,cAAc,aAG3BC,EAAmE,QAArDP,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOC,sBAAc,IAArDd,IAAyD,GAE3EG,EAAKC,KAAKW,WAAY,EAAAC,EAAAC,cAAahB,EAAAiB,aAEnCf,EAAKC,KAAKe,iBAAiB,SAE3B,SAAiBC,GACfA,EAAIC,iBAEJ,IAAMC,EAAYC,OAAOH,EAAII,OAAOC,QAAQ,YAAYC,QAAQC,IAC1DC,EAAU3B,EAAAiB,YAAYW,MAAK,SAAAC,G,OAAKA,EAAFH,KAAgBL,C,IAExB,MAAxBF,EAAII,OAAOO,WACb,EAAAC,EAAAC,aAAYL,GAGd,IAAMM,EAAa3B,EAAY4B,MAAK,SAAAL,G,OAAKA,EAAFH,KAAgBL,C,IAEnDF,EAAII,OAAOY,UAAUC,SAAS,iBAC3BH,GACH3B,EAAY+B,KAAKV,GAEnBlB,aAAa6B,QAAQ3B,EAAAC,OAAOC,aAAcN,KAAKgC,UAAUjC,KAGvDa,EAAII,OAAOY,UAAUC,SAAS,cAC5BH,GACF3B,EAAYkC,SAAQ,SAACC,EAAIC,GACnBD,EAAGf,KAAOL,GACZf,EAAYqC,OAAOD,EAAK,E,IAMhCjC,aAAa6B,QAAQ3B,EAAAC,OAAOC,aAAcN,KAAKgC,UAAUjC,G","sources":["src/index.js"],"sourcesContent":["import { instruments } from './js/instruments-for-markup';\nimport { createMarkup } from './js/helpers/create-markup';\nimport { createModal } from './js/helpers/create-modal';\nimport { common } from './js/helpers/common';\n\nconst refs = {\n  list: document.querySelector('.js-list'),\n};\n\nlet favoriteArr = JSON.parse(localStorage.getItem(common.FAVORITE_KEY)) ?? [];\n\nrefs.list.innerHTML = createMarkup(instruments);\n\nrefs.list.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n\n  const productId = Number(evt.target.closest('.js-card').dataset.id);\n  const product = instruments.find(({ id }) => id === productId);\n\n  if (evt.target.nodeName === 'A') {\n    createModal(product);\n  }\n\n  const inFavorite = favoriteArr.some(({ id }) => id === productId);\n\n  if (evt.target.classList.contains('js-favorite')) {\n    if (!inFavorite) {\n      favoriteArr.push(product);\n    }\n    localStorage.setItem(common.FAVORITE_KEY, JSON.stringify(favoriteArr));\n  }\n\n  if (evt.target.classList.contains('js-remove')) {\n    if (inFavorite) {\n      favoriteArr.forEach((el, idx) => {\n        if (el.id === productId) {\n          favoriteArr.splice(idx, 1);\n        }\n      });\n    }\n  }\n\n  localStorage.setItem(common.FAVORITE_KEY, JSON.stringify(favoriteArr));\n}\n"],"names":["$b8f9b7833fa37166$var$ref","$fgxIx","parcelRequire","$b8f9b7833fa37166$var$refs","list","document","querySelector","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","$hfhZu","common","FAVORITE_KEY","innerHTML","$9X4zL","createMarkup","instruments","addEventListener","evt","preventDefault","productId","Number","target","closest","dataset","id","product","find","param","nodeName","$gfa6V","createModal","inFavorite","some","classList","contains","push","setItem","stringify","forEach","el","idx","splice"],"version":3,"file":"index.c3e965c2.js.map"}