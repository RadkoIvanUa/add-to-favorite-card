{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,mEAOA,MAAMC,EAAeC,SAASC,cAAc,qB,IAE1BC,EAAlB,IAAIC,EAAmE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOC,sBAAc,IAArDR,IAAyD,GAE3EH,EAAaY,WAAY,EAAAC,EAAAC,sBAAqBV,GAE9CJ,EAAae,iBAAiB,SAE9B,SAAiBC,GACfA,EAAIC,iBAEJ,MAAMC,EAAYC,OAAOH,EAAII,OAAOC,QAAQ,YAAYC,QAAQC,IAC1DC,EAAUC,EAAAC,YAAYC,MAAK,EAACJ,GAAEA,KAASA,IAAOL,IAExB,MAAxBF,EAAII,OAAOQ,WACb,EAAA9B,EAAA+B,aAAYL,GAEd,MAAMM,EAAa1B,EAAY2B,MAAK,EAACR,GAAEA,KAASA,IAAOL,KAEvD,EAAAc,EAAAC,oBAAmBjB,EAAII,OAAQU,EAAY1B,EAAac,GACxDlB,EAAaY,WAAY,EAAAC,EAAAC,sBAAqBV,E","sources":["src/js/favorite.js"],"sourcesContent":["import { createModal } from './helpers/create-modal';\nimport { createFavoriteMarkup } from './helpers/create-markup';\nimport { common } from './helpers/common';\nimport { createMarkup } from './helpers/create-markup';\nimport { instruments } from './instruments-for-markup';\nimport { removeFromFavorite } from './helpers/remove-from-favorite';\n\nconst favoriteList = document.querySelector('.js-favorite-list');\n\nlet favoriteArr = JSON.parse(localStorage.getItem(common.FAVORITE_KEY)) ?? [];\n\nfavoriteList.innerHTML = createFavoriteMarkup(favoriteArr);\n\nfavoriteList.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n\n  const productId = Number(evt.target.closest('.js-card').dataset.id);\n  const product = instruments.find(({ id }) => id === productId);\n\n  if (evt.target.nodeName === 'A') {\n    createModal(product);\n  }\n  const inFavorite = favoriteArr.some(({ id }) => id === productId);\n\n  removeFromFavorite(evt.target, inFavorite, favoriteArr, productId);\n  favoriteList.innerHTML = createFavoriteMarkup(favoriteArr);\n}\n"],"names":["$4snwL","parcelRequire","$f2b37c882cc80f12$var$favoriteList","document","querySelector","$f2b37c882cc80f12$var$ref","$f2b37c882cc80f12$var$favoriteArr","JSON","parse","localStorage","getItem","$96ysN","common","FAVORITE_KEY","innerHTML","$gyujb","createFavoriteMarkup","addEventListener","evt","preventDefault","productId","Number","target","closest","dataset","id","product","$gYwzt","instruments","find","nodeName","createModal","inFavorite","some","$d6y2s","removeFromFavorite"],"version":3,"file":"favorite.55d8b129.js.map"}